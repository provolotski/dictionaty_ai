# Страница пользователей системы

## Обзор

Страница для просмотра всех пользователей системы, доступная только администраторам безопасности (группа `EISGS_AppSecurity`).

## Доступ

- **URL**: `/accounts/users/`
- **Права**: Только пользователи с `has_audit_access = True` (группа `EISGS_AppSecurity`)
- **Редирект**: На главную страницу для неавторизованных пользователей

## Функциональность

### 1. Фильтрация и поиск
- **Поиск по имени**: Поиск пользователей по части имени (регистронезависимый)
- **Фильтр по домену**: Фильтрация пользователей по домену
- **Размер страницы**: Выбор количества пользователей на странице (25, 50, 100)

### 2. Таблица пользователей
Отображает следующие поля:
- **Имя пользователя** - отображаемое имя
- **Домен** - домен пользователя
- **Администратор системы** - признак администратора системы (Да/Нет)
- **Последний вход** - дата последней авторизации

### 3. Пагинация
- Навигация по страницам
- Отображение текущей страницы и общего количества
- Кнопки "Назад" и "Вперед"
- Номера страниц с пропуском для больших списков

## Техническая реализация

### Backend API
- **Endpoint**: `GET /api/v1/users/`
- **Параметры**: `search`, `domain`, `page`, `page_size`
- **Ответ**: JSON с пользователями и метаданными пагинации

### Frontend
- **View**: `accounts.views.users_view`
- **URL**: `accounts.urls` → `path('users/', views.users_view, name='users')`
- **Шаблон**: `templates/users.html`
- **Утилиты**: `accounts.utils.fetch_users_from_backend`

### Безопасность
- Проверка авторизации пользователя
- Проверка членства в группе `EISGS_AppSecurity`
- Редирект неавторизованных пользователей

## Навигация

Страница доступна из главного меню для пользователей с правами администратора безопасности:
- **Аудит** → **Пользователи**

## Стилизация

- Адаптивный дизайн (Bootstrap 5)
- Таблица с чередующимися строками
- Hover-эффекты для строк таблицы
- Бейджи для доменов
- Цветовая индикация для администраторов системы (зеленый для "Да", серый для "Нет")
- Цветовая индикация дат (зеленый для последнего входа)

## JavaScript функциональность

- Автоматическое обновление при изменении размера страницы
- Подсветка строк при наведении
- Интерактивные элементы пагинации

## Интеграция с системой

Страница интегрирована в общую архитектуру:
- Использует существующую систему авторизации
- Подключается к backend API через utils
- Следует общему дизайну и стилю приложения
- Поддерживает ролевую модель доступа
